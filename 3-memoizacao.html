<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelo - React</title>
</head>
<body class="bg-gray-700 text-white">
    <div id="root"></div>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">

        const users = [
            { id: 1, name: 'Usuário 1' },
            { id: 2, name: 'Usuário 2' },
            { id: 3, name: 'Usuário 3' },
            { id: 4, name: 'Usuário 4' },
            { id: 5, name: 'Usuário 5' },
        ]

        function App() {
            const [search, setSearch] = React.useState('')
            const [count, setCount] = React.useState(0)

            console.log('Re-render!')

            const filteredUsers = React.useMemo(() => {
                console.log('Filtrando usuários...')
                return users.filter(user => user.name.toLowerCase()
                    .includes(search.toLowerCase()))

            }, [search])

            return (
                <main className="h-screen flex flex-col justify-center items-center gap-4">
                    <input 
                        type="text" 
                        value={search} 
                        onChange={(e) => setSearch(e.target.value)} 
                        placeholder="Buscar usuários" 
                        className="border border-gray-300 rounded p-2 w-80" 
                    />

                    <button 
                        onClick={() => setCount(count + 1)}
                        className="bg-blue-500 hover:bg-blue-800 
                        text-white p-2 rounded cursor-pointer w-80"
                    >
                        Re-render: {count}
                    </button>

                    <ul>
                        {filteredUsers.map(user => (
                            <li key={user.id}>{user.name}</li>
                        ))}
                    </ul>
                </main>
            )
        }

        ReactDOM.createRoot(document.getElementById('root')).render(
            <App />
        )
    </script>
</body>
</html>